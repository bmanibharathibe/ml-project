# train.py

# Import necessary libraries
from sklearn.datasets import load_iris
from sklearn.tree import DecisionTreeClassifier
import joblib
from utils import check_accuracy
from config import MODEL_FILE


# Main function
def main():

    # Load dataset
    data = load_iris()
    X = data.data      # Features
    y = data.target    # Labels

    # Create model
    model = DecisionTreeClassifier()

    # Train model using full dataset (simple way)
    model.fit(X, y)

    # Check model accuracy
    check_accuracy(model, X, y)

    # Save the model
    joblib.dump(model, MODEL_FILE)
    print("Model saved successfully!")


# Run program
if __name__ == "__main__":
    main()
